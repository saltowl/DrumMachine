{"version":3,"sources":["redux/constants.js","services/sound-service.js","components/pad-element/pad-element.js","components/pad/pad.js","components/pad/pad-redux.js","redux/actions.js","components/drum-machine/drum-machine-redux.js","components/hoc/with-data.js","components/drum-machine/drum-machine.js","redux/reducer.js","redux/index.js","index.js","components/app/app.js"],"names":["INITIAL_STATE","sound","presetId","volume","SoundService","_allSounds","_keyNames","_KEYS_NUMBER","this","length","_createPadData","keyName","name","src","replace","getSounds","map","i","React","memo","playSound","loopSound","className","onClick","id","onDoubleClick","data","setSound","useCallback","key","firstElementChild","currentTime","classList","add","play","setTimeout","remove","document","getElementById","loop","useEffect","handleKeyPress","event","String","fromCharCode","keyCode","addEventListener","removeEventListener","pad","forEach","push","gap","mapDispatchToProps","type","payload","connect","Pad","Wrapped","setVolume","setPreset","useState","window","innerWidth","width","setWidth","updateDimensions","gridClasses","htmlFor","min","max","step","value","onChange","e","target","getElementsByClassName","props","store","createStore","state","constants","action","ReactDOM","render"],"mappings":"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","file":"static/js/main.94972fea.chunk.js","sourcesContent":["export const INITIAL_STATE = {\r\n  sound: '',\r\n  presetId: 0,\r\n  volume: 0.2,\r\n};\r\n\r\nexport const SET_SOUND = 'SET_SOUND';\r\nexport const SET_PRESET = 'SET_PRESET';\r\nexport const SET_VOLUME = 'SET_VOLUME';\r\n","export default class SoundService {\r\n  _allSounds = [\r\n    'Bass Drum 1',\r\n    'Bass Drum 2',\r\n    'Bass Drum 3',\r\n    'Boom Kick',\r\n    'Deep Kick',\r\n    'E-Mu Proteus FX 909 Kick',\r\n    'E-Mu Proteus FX Wacky Kick',\r\n    'Electronic Kick 1',\r\n    'Electronic Kick 2',\r\n    '1980s Casio Piano C5',\r\n    'Alesis Fusion Bright Acoustic Piano C6',\r\n    'Casio MT-45 Piano C4',\r\n    'E-Mu Proteus FX Pianotar C3',\r\n    'Ensoniq ESQ-1 Piano C3',\r\n    'Alesis Fusion Nylon String Guitar C4',\r\n    'Ensoniq SQ-1 ClassicGuitar C5',\r\n    'Kawai K5000W NylonGt1 C4',\r\n    'Kawai K5000W SteelGt1 C3',\r\n    'Crash Cymbal 1',\r\n    'Crash Cymbal 5',\r\n    'Closed Hi-Hat 2',\r\n    'Ensoniq SQ-1 Open Hi-Hat',\r\n    'Ensoniq SQ-1 Ride Cymbal',\r\n    'Claves',\r\n    'Alesis Fusion Recorder C5',\r\n    'Electro Tom',\r\n    'Alesis Fusion English Horn C5',\r\n  ];\r\n  _keyNames = ['Q', 'W', 'E', 'A', 'S', 'D', 'Z', 'X', 'C'];\r\n  _KEYS_NUMBER = this._keyNames.length;\r\n\r\n  _createPadData = (keyName, name) => ({\r\n    keyName,\r\n    name,\r\n    src: `https://freewavesamples.com/files/${name.replace(/[ ]/g, '-')}.wav`,\r\n  });\r\n\r\n  getSounds = (presetId = 0) =>\r\n    this._keyNames.map((keyName, i) =>\r\n      this._createPadData(keyName, this._allSounds[this._KEYS_NUMBER * presetId + i]),\r\n    );\r\n}\r\n","import React from 'react';\r\nimport './pad-element.css';\r\n\r\nexport default React.memo(function PadElement({\r\n  src,\r\n  name,\r\n  keyName,\r\n  playSound,\r\n  loopSound,\r\n}) {\r\n  return (\r\n    <div\r\n      className={`drum-pad d-flex justify-content-center align-items-center`}\r\n      onClick={() => playSound(keyName)}\r\n      id={keyName}\r\n      onDoubleClick={() => loopSound(keyName)}\r\n    >\r\n      <audio src={src} id={name} className={'clip'} />\r\n      {keyName}\r\n    </div>\r\n  );\r\n});\r\n","import React, { useEffect, useCallback } from 'react';\r\nimport PadElement from '../pad-element';\r\n\r\nexport default React.memo(function Pad({ data, setSound }) {\r\n  const playSound = useCallback(\r\n    (key) => {\r\n      if (key) {\r\n        const sound = key.firstElementChild;\r\n        sound.currentTime = 0;\r\n        key.classList.add('pressed');\r\n        sound.play();\r\n        setTimeout(() => {\r\n          key.classList.remove('pressed');\r\n        }, 100);\r\n        setSound(sound.id);\r\n      }\r\n    },\r\n    [setSound],\r\n  );\r\n\r\n  const loopSound = (keyName) => {\r\n    const sound = document.getElementById(keyName).firstElementChild;\r\n    sound.loop = !sound.loop;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleKeyPress = (event) => {\r\n      const key = document.getElementById(String.fromCharCode(event.keyCode));\r\n      playSound(key);\r\n    };\r\n    document.addEventListener('keydown', handleKeyPress);\r\n    return () => {\r\n      document.removeEventListener('keydown', handleKeyPress);\r\n    };\r\n  }, [playSound]);\r\n\r\n  const pad = [];\r\n  data.forEach(({ name, src, keyName }, i) => {\r\n    pad.push(\r\n      <div className={'col'} key={name}>\r\n        <PadElement\r\n          src={src}\r\n          name={name}\r\n          keyName={keyName}\r\n          playSound={(keyName) => playSound(document.getElementById(keyName))}\r\n          loopSound={loopSound}\r\n        />\r\n      </div>,\r\n    );\r\n    if (i % 3 === 2) {\r\n      const gap = <div className=\"w-100\" key={name + 'gap'} />;\r\n      pad.push(gap);\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className={'container'} id={'pad'}>\r\n      <div className={'row'}>{pad}</div>\r\n    </div>\r\n  );\r\n});\r\n","import { connect } from 'react-redux';\r\nimport { setSound } from '../../redux/actions';\r\nimport Pad from './pad';\r\n\r\nconst mapDispatchToProps = {\r\n  setSound,\r\n};\r\n\r\nexport default connect(null, mapDispatchToProps)(Pad);\r\n","import * as constants from './constants';\r\n\r\nexport const setSound = (sound) => ({\r\n  type: constants.SET_SOUND,\r\n  payload: {\r\n    sound,\r\n  },\r\n});\r\n\r\nexport const setPreset = (presetId) => ({\r\n  type: constants.SET_PRESET,\r\n  payload: {\r\n    presetId,\r\n  },\r\n});\r\n\r\nexport const setVolume = (volume) => ({\r\n  type: constants.SET_VOLUME,\r\n  payload: {\r\n    volume,\r\n  },\r\n});\r\n","import { connect } from 'react-redux';\r\nimport { setPreset, setVolume } from '../../redux/actions';\r\nimport withData from '../hoc/with-data';\r\nimport DrumMachine from './drum-machine';\r\n\r\nconst mapStateToProps = ({ presetId, sound, volume }) => ({\r\n  presetId,\r\n  sound,\r\n  volume,\r\n});\r\n\r\nconst mapDispatchToProps = {\r\n  setVolume,\r\n  setPreset,\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withData(DrumMachine));\r\n","import React from 'react';\r\nimport SoundService from '../../services/sound-service';\r\n\r\nexport default (Wrapped) => {\r\n  return (props) => {\r\n    const data = new SoundService().getSounds(props.presetId);\r\n    return <Wrapped {...props} data={data} />;\r\n  };\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport './drum-machine.css';\r\nimport Pad from '../pad';\r\n\r\nexport default function DrumMachine({ data, sound, volume, setPreset, setVolume }) {\r\n  const [width, setWidth] = useState(window.innerWidth);\r\n\r\n  const updateVolume = (e) => {\r\n    const volume = e.target.value;\r\n    for (const clip of document.getElementsByClassName('clip')) {\r\n      clip.volume = volume;\r\n    }\r\n    setVolume(volume);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const updateDimensions = () => {\r\n      setWidth(window.innerWidth);\r\n    };\r\n    window.addEventListener('resize', updateDimensions);\r\n    return () => window.removeEventListener('resize', updateDimensions);\r\n  }, []);\r\n\r\n  const gridClasses =\r\n    width <= 550\r\n      ? ['row row__C', 'row row__A', 'row row__B', 'col wrapper', 'col']\r\n      : ['col', 'col', 'col', 'row', 'row'];\r\n\r\n  return (\r\n    <div id={'drum-machine'} className={'container'}>\r\n      <h1 className={'text-center'}>Double click on any pad element loops sound</h1>\r\n      <div className={gridClasses[3]}>\r\n        <div className={gridClasses[0]}>\r\n          <Pad data={data} />\r\n        </div>\r\n        <div className={gridClasses[1]}>\r\n          <div className={'container w-100'}>\r\n            <div\r\n              id={'display'}\r\n              className={'d-flex justify-content-center align-items-center'}\r\n            >\r\n              {sound}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={gridClasses[2]}>\r\n          <div className={gridClasses[4]}>\r\n            <div id={'volume'}>\r\n              <label htmlFor=\"formControlRange\">Volume</label>\r\n              <input\r\n                type=\"range\"\r\n                className=\"form-control-range\"\r\n                id=\"formControlRange\"\r\n                min={0}\r\n                max={1}\r\n                step={0.01}\r\n                value={volume}\r\n                onChange={updateVolume}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className={gridClasses[4]}>\r\n            <div id={'set'}>\r\n              <select\r\n                className=\"custom-select\"\r\n                id={'set-selector'}\r\n                onChange={(e) => setPreset(e.target.value)}\r\n              >\r\n                <option value=\"0\">First set</option>\r\n                <option value=\"1\">Second set</option>\r\n                <option value=\"2\">Third set</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import * as constants from './constants';\r\n\r\nexport default (state = constants.INITIAL_STATE, action = {}) => {\r\n  switch (action.type) {\r\n    case constants.SET_PRESET: {\r\n      const { presetId } = action.payload;\r\n      return {\r\n        ...state,\r\n        presetId,\r\n      };\r\n    }\r\n\r\n    case constants.SET_SOUND: {\r\n      const { sound } = action.payload;\r\n      return {\r\n        ...state,\r\n        sound,\r\n      };\r\n    }\r\n\r\n    case constants.SET_VOLUME: {\r\n      const { volume } = action.payload;\r\n      return {\r\n        ...state,\r\n        volume,\r\n      };\r\n    }\r\n\r\n    default: {\r\n      return { ...state };\r\n    }\r\n  }\r\n};\r\n","import { createStore } from 'redux';\r\nimport reducer from './reducer';\r\nimport { INITIAL_STATE } from './constants';\r\n\r\nconst store = createStore(reducer, INITIAL_STATE);\r\n\r\nexport default store;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app';\nimport { Provider } from 'react-redux';\nimport store from './redux';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n","import React from 'react';\nimport './app.css';\nimport DrumMachine from '../drum-machine';\nimport 'bootstrap/dist/css/bootstrap.css';\n\nexport default function App() {\n  return (\n    <div id={'app'}>\n      <DrumMachine />\n    </div>\n  );\n}\n"],"sourceRoot":""}